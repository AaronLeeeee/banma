(function($){"use strict";$('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$("[name="+this.hash.slice(1)+"]");if(target.length){$("html, body").animate({scrollTop:target.offset().top-54},1e3,"easeInOutExpo");return false}}});$(".js-scroll-trigger").click(function(){$(".navbar-collapse").collapse("hide")});$("body").scrollspy({target:"#mainNav",offset:54});var KYCourseSettings="课程设置";var viewport_width=document.body.clientWidth;$(function(){$(window).on("activate.bs.scrollspy",function(e){var currentItem=$(".nav-item > a.active").text();if(currentItem==KYCourseSettings){var phase1=$("#phase1");var phase2=$("#phase2");var phase3=$("#phase3");var phase4=$("#phase4");var phase5=$("#phase5");var skipAnimation=viewport_width<720;if(phase1.hasClass("invisible")){if(skipAnimation){phase1.removeClass("invisible");phase3.removeClass("invisible");phase5.removeClass("invisible")}else{phase1.removeClass("invisible").addClass("animated fadeInLeft");phase3.removeClass("invisible").addClass("animated fadeInLeft");phase5.removeClass("invisible").addClass("animated fadeInLeft")}}if(phase2.hasClass("invisible")){if(skipAnimation){phase2.removeClass("invisible");phase4.removeClass("invisible")}else{phase2.removeClass("invisible").addClass("animated fadeInRight");phase4.removeClass("invisible").addClass("animated fadeInRight")}}}})});var navbarCollapse=function(){if($("#mainNav").offset().top>100){$("#mainNav").addClass("navbar-shrink")}else{$("#mainNav").removeClass("navbar-shrink")}};navbarCollapse();$(window).scroll(navbarCollapse);$(".portfolio-modal").on("show.bs.modal",function(e){$(".navbar").addClass("d-none")});$(".portfolio-modal").on("hidden.bs.modal",function(e){$(".navbar").removeClass("d-none")})})(jQuery);